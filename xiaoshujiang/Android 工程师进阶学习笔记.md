---
title: Android 工程师进阶学习笔记
renderNumberedHeading: true
grammar_cjkRuby: true
---
# 第二讲
JVM 垃圾回收依据：
通过可达性分析，确定内存中的对象是否为垃圾，如果与 `GC Root` 没有直接或间距的联系，即一个对象无法通过引用关系连线到`GC Root`那么他将会被当做 GC 垃圾

在 Java 中，有以下几种对象可以作为 GC Root：
- Java 虚拟机栈（局部变量表）中的引用的对象。
- 方法区中静态引用指向的对象。
- 仍处于存活状态中的线程对象。
- Native 方法中 JNI 引用的对象。
 
常见 JVM 垃圾回收算法:
- 标记清除法
  1、遍历标记存活对象与垃圾对象
  2、清除标记的垃圾对象
  优点：实现简单，不需要移动对象
  缺点：需要暂停其他进程，频繁回收会造成卡顿。回收后内存不连续，会提高回收频率
- 复制算法
  1、将内存分为两部分，每次只使用其中的一部分。
  2、回收内存遍历标记存活对象与垃圾对象
  3、将存活对象复制到空闲的一半内存中
  优点:内存连续，效率高
  缺点:每次只能使用一半的内存，高存活率对象会不断复制
- 标记压缩法
  1、标记存活对象与垃圾对象
  2、回收垃圾对象
  3、压缩存活对象
  优点:内存连续，也不需要内存分半使用。性价比较高
  缺点:压缩过程会降低效率
# 第六讲
 Class 对象在执行引擎中的初始化过程：
 装载-->链接(验证、准备、解析)-->初始化 

主要分 3 大步：装载、链接、初始化。其中链接中又包含验证、准备、解析 3 小步。

- 装载：指查找字节流，并根据此字节流创建类的过程。装载过程成功的标志就是在方法区中成功创建了类所对应的 Class 对象。

- 链接：指验证创建的类，并将其解析到 JVM 中使之能够被 JVM 执行。

- 初始化：则是将标记为 static 的字段进行赋值，并且执行 static 标记的代码语句 。