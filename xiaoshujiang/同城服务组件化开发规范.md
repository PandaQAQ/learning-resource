---
title: 同城服务组件化开发规范
tags: 新建,模板,小书匠
category: /小书匠/日记/2022-02
renderNumberedHeading: true
grammar_cjkRuby: true
---

# 整体架构
![同城服务APP 架构.png](./images/1644400036758.png)

# 组件说明
## Base
项目基础依赖，在各个子组件工程中已经配置好 maven 依赖关系。子组件开发时无需关心，直接使用即可。
## 主工程
包含电商、外卖、跑腿和 app 层面的一些功能模块，为自研的主工程。
## 用户信息组件
包含 APP 的注册登陆、用户设置、用户信息、密码等与用户身份信息相关的功能；独立组件开发，与业务剥离。
## 收银台组件
支付收银台组件，其他功能模块都不单独做支付功能。需要支付时，带参数通体跳转到此收银台组件进行支付相关的业务
## IM 聊天组件
单独的 IM 聊天组件，包括其他端的 APP 也可直接引入组件依赖
## 便民信息组件
包含整个便民信息的发布和浏览，以及用户的关注收藏等业务。整体打包给外包团队按照开发规范进行开发，验收完毕后以依赖包的形式接入主工程

# 组件间跳转和调用
## 无参数跳转
无参数跳转，直接根据路由表对应组件对应页面的路由 path，使用 ARouter 跳转
#### 样例场景
- 跳转无需携带信息的各个主页（用户信息各个组件通过用户组件接口方法获取，只需传递用户信息认为是无参数跳转）
## 带参数跳
带参数跳转，全部使用路由服务方法进行跳转。目标组件应先向 base 包中注册服务接口方法并在自己组件内实现服务方法，使用组件在本组件内通过路由服务方法接口进行跨组件调用。
#### 样例场景
- 向收银台组件发起支付，需传入账单 id 等业务相关的 id