---
title: 基础知识点
renderNumberedHeading: true
grammar_cjkRuby: true
---

# ArrayList
内部由数组实现
  
## 扩容原理
初始化时默认数组长度为 0 ，第一次调用 `add`时检查数组长度会将数组扩容到 10，每次添加数据都会检查数组容量。增加数据后超过当前容量将会先将数组扩容，起扩容逻辑如下：
- 1、增加数据后未达到当前数组容量，直接将值放入数组，size 增加对应长度
- 2、增加数据后达超过当前数组容量，先扩容 1.5 倍
- 3、如果 1.5 倍容量比现有数据加上增加的数据数量小，则以增加数据后的数组长度为新容量扩容
- 4、如果新扩容后的长度大于 `Integer.MAX_VALUE - 8`，则会先判定新数组的长度是否已经超出 `Integer.MAX_VALUE`,超过了则抛出内存溢出异常。
- 5、将原来的数组复制进扩容后的数组

## 移除数据
**remove(int index)**
直接将移除位置后面的数据向前拷贝，覆盖掉移除的数据，并将最后一位置空回收
**remove(Object o)**
循环使用 `equals` 进行匹配，将匹配到的位置后面的数据拷贝覆盖掉移除的数据，并将数组最后一位置空回收